# Hystrix

## 问题抛出

在高并发的情况下，单个服务的延迟，可能导致所有的请求都处于延迟状态，甚至在几秒钟就使服务处于负载饱和状态，资源耗尽，直到不可用，最终导致整个分布式服务不可用。——`雪崩`

## Hystrix实现功能

### 熔断

Fallback（失败快速返回），当某个服务发送故障之后，通过熔断，向调用方返回一个错误响应，而不是长时间等待。就会避免因为故障而导致服务被长时间占用不释放。

### 线程隔离

会为每一个依赖服务创建一个独立的线程池，这样就算某个依赖服务出现延迟过高的情况，也只是对该依赖服务的调用产生影响，而不会拖慢其他的依赖服务。

#### 关键参数

滑动窗口大小（20）

熔断器开关间隔（5s）

错误率（50%）

* 每当20个请求中，有50%失败时，`熔断器`就会`打开`，此时再调用此服务，将会`直接返回失败`，不再调用远程服务；
* 直到5秒之后，重新检查该触发条件，判断是否把熔断器关闭，或者继续打开。

